<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<!-- namespace : impl패키지 경로로 통일 -->
<mapper namespace="com.nike.geo.model.EmpDaoImpl">

<!-- 사원 추가 -->
<insert id="insertEmp">

INSERT INTO GEO.EMP
	(EMP_NO, EMP_POS, EMP_DEPT, EMP_PW, 
	EMP_NAME, EMP_GENDER, EMP_HIREDATE, EMP_EMAIL, 
	EMP_PHONE, EMP_BIRTH, EMP_ADDRESS, EMP_AUTH, 
	EMP_STATUS, EMP_RETIREDATE, REG_ID, REG_DATE, 
	MOD_ID, MOD_DATE)
VALUES(#{emp_no}, #{emp_pos}, #{emp_dept}, #{emp_pw}, 
	#{emp_name}, #{emp_gender}, TO_CHAR(SYSDATE, 'yyyy-MM-dd'), #{emp_email}, 
	#{emp_phone}, #{emp_birth, jdbcType=DATE}, #{emp_address}, 'AU003', 
	'ST001', '', '관리자', TO_CHAR(SYSDATE, 'yyyy-MM-dd'), 
	'관리자', TO_CHAR(SYSDATE, 'yyyy-MM-dd'))
</insert>

<!-- 사원 전체 조회 -->
<select id="selectAll" resultType="EmpVo">
SELECT EMP_NO , <!-- (SELECT CODE_NAME FROM COM WHERE DIVISION = '직급')  , (SELECT CODE_NAME FROM COM WHERE DIVISION = '부서') , -->
	EMP_POS , EMP_DEPT ,
	EMP_NAME , EMP_GENDER , EMP_HIREDATE , 
	EMP_EMAIL , EMP_PHONE , EMP_BIRTH , EMP_ADDRESS
FROM EMP e
</select>

<!-- 사원 상세 조회 -->
<select id="selectOneEmp" resultType="EmpVo">
SELECT EMP_NO , EMP_NAME , EMP_DEPT , EMP_POS , 
EMP_GENDER , EMP_BIRTH , EMP_PHONE , 
EMP_EMAIL , EMP_ADDRESS , EMP_HIREDATE 
	FROM EMP e 
	WHERE EMP_NO = #{emp_no}
</select>




<!-- 사원 정보 변경 -->
<update id="updateEmp" parameterType="EmpVO">
UPDATE GEO.EMP
SET emp_pos = #{emp_pos}, 
	emp_dept = #{emp_dept}, 
	emp_email = #{emp_email}, 
	emp_phone = #{emp_phone}, 
	emp_address = #{emp_address}
WHERE emp_no = #{emp_no}
</update>

<!-- 비밀번호 변경 -->
<!-- <update id="modPw"> -->
<!-- UPDATE GEO.EMP -->
<!-- SET EMP_PW = #{emp_pw} -->
<!-- WHERE EMP_NO = #{emp_no} -->
<!-- </update> -->

	
</mapper>
